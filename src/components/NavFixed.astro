---
import Arrow from '../assets/icons/Arrow.astro'
import Github from '../assets/icons/github.astro'
import Logo from './Logo.astro'

const MENU = [
  {
    name: 'Home',
    href: '#home',
  },
  {
    name: 'Proyectos',
    href: '#home',
  },
  {
    name: 'Blog',
    href: '#home',
  },
  {
    name: 'Tutoriales',
    href: '#home',
  },
]
---

<div
  class="sticky top-0 left-0 right-0 z-50 h-0 flex justify-center sm:w-auto w-full group/open"
  id="menu-fixed"
>
  <div
    class="fixed top-0 left-0 right-0 h-full w-full bg-black/90 pt-[80px] text-white flex flex-col px-8 pointer-events-none opacity-0 group-[.isopen]/open:pointer-events-auto group-[.isopen]/open:opacity-100 transition duration-300"
  >
    {
      MENU.map(item => (
        <a
          href={item.href}
          class="py-4 border-b border-white/20 hover:opacity-70 transition duration-300 flex items-center justify-between group"
          target="_blank"
          rel="noopener noreferrer"
        >
          {item.name}
          <span class="rotate-180 group-hover:translate-x-0 -translate-x-2 opacity-0 group-hover:opacity-100 transition duration-300">
            <Arrow />
          </span>
        </a>
      ))
    }
  </div>
  <div class="sm:w-auto w-full">
    <nav
      class="relative bg-black px-2 h-10 flex items-center border-white/20 border bg-white/5 text-sm backdrop-blur text-white mt-5 rounded-full"
    >
      <div class="justify-between flex sm:hidden w-full">
        <Logo />
        <div class="flex gap-2">
          <a
            href={'https://www.linkedin.com/in/zerok06/'}
            class="px-3 py-[3px] rounded-full hover:bg-white/80 bg-white text-primary-500 transition duration-300 flex items-center gap-1 group cursor-pointer"
            target="_blank"
            rel="noopener noreferrer"
          >
            Ir a Linkedin
            <svg
              class="rotate-180 group-hover:translate-x-1 transition duration-300"
              xmlns="http://www.w3.org/2000/svg"
              width="12"
              height="12"
              viewBox="0 0 24 24"
              ><path
                fill="currentColor"
                d="m9.55 12l7.35 7.35q.375.375.363.875t-.388.875t-.875.375t-.875-.375l-7.7-7.675q-.3-.3-.45-.675t-.15-.75t.15-.75t.45-.675l7.7-7.7q.375-.375.888-.363t.887.388t.375.875t-.375.875z"
              ></path></svg
            >
          </a>
          <button
            class="px-3 py-[3px] border border-white/20 rounded-full bg-white/10"
            id="menu-button"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="18"
              height="18"
              viewBox="0 0 64 64"
              ><path
                fill="currentColor"
                d="M60 29.8H4c-1.2 0-2.3 1-2.3 2.3c0 1.2 1 2.3 2.3 2.3h56c1.2 0 2.3-1 2.3-2.3s-1.1-2.3-2.3-2.3m0 17H4c-1.2 0-2.3 1-2.3 2.3s1 2.3 2.3 2.3h56c1.2 0 2.3-1 2.3-2.3s-1.1-2.3-2.3-2.3M4 17.2h56c1.2 0 2.3-1 2.3-2.3s-1-2.3-2.3-2.3H4c-1.2 0-2.3 1-2.3 2.3s1.1 2.3 2.3 2.3"
              ></path></svg
            >
          </button>
        </div>
      </div>
      <div class="gap-1 items-end sm:flex hidden">
        {
          MENU.map(item => (
            <a
              href={item.href}
              class="px-3 py-[3px] rounded-full hover:bg-white/10 transition duration-300"
            >
              {item.name}
            </a>
          ))
        }
        <a
          href={'https://www.linkedin.com/in/zerok06/'}
          class="px-3 py-[3px] rounded-full hover:bg-white/80 bg-white text-primary-500 transition duration-300 flex items-center gap-1 group/linkedin cursor-pointer"
          target="_blank"
          rel="noopener noreferrer"
        >
          Ir a Linkedin
          <svg
            class="rotate-180 group-hover/linkedin:translate-x-1 transition duration-300"
            xmlns="http://www.w3.org/2000/svg"
            width="12"
            height="12"
            viewBox="0 0 24 24"
            ><path
              fill="currentColor"
              d="m9.55 12l7.35 7.35q.375.375.363.875t-.388.875t-.875.375t-.875-.375l-7.7-7.675q-.3-.3-.45-.675t-.15-.75t.15-.75t.45-.675l7.7-7.7q.375-.375.888-.363t.887.388t.375.875t-.375.875z"
            ></path></svg
          >
        </a>
      </div>
    </nav>
  </div>
</div>
<script>
  window.addEventListener('load', () => {
    const nav = document.getElementById('menu-fixed')
    const button = document.getElementById('menu-button')
    if (button && nav) {
      button.addEventListener('click', () => {
        nav.classList.toggle('isopen')
      })
    }
  })
</script>
